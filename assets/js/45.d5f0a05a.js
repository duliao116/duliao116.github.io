(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{409:function(s,t,a){"use strict";a.r(t);var n=a(45),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"设计和实现如何保持一致"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#设计和实现如何保持一致"}},[s._v("#")]),s._v(" 设计和实现如何保持一致")]),s._v(" "),a("h2",{attrs:{id:"充分识别代码改动的影响"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#充分识别代码改动的影响"}},[s._v("#")]),s._v(" 充分识别代码改动的影响")]),s._v(" "),a("p",[s._v("目前项目处于维护阶段，新增或修改的功能大多会影响到已有功能。那识别对已有功能的影响就是重中之重，对于代码改动的影响范围，可以设立影响范围评审，主要目的有三点：")]),s._v(" "),a("ol",[a("li",[s._v("说明改动代码和影响范围之间的明确关系")]),s._v(" "),a("li",[s._v("说明识别影响范围的方式方法——如何识别出影响范围的?是否合理?")]),s._v(" "),a("li",[s._v("说明新增、改动代码为何如此改动，是否可以优化（而不是复制），是否影响范围最小?是否符合开闭原则?")])]),s._v(" "),a("h2",{attrs:{id:"逐步提交-逐步走查"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#逐步提交-逐步走查"}},[s._v("#")]),s._v(" 逐步提交，逐步走查")]),s._v(" "),a("p",[s._v("涉及到大的版本变动，其对应的代码改动也会有很多，如果在所有代码编写完后统一进行代码走查，对应走查人员的压力很大，也不容易发现问题，为了避免这种情况，应当考虑分模块、分功能逐步提交代码。")]),s._v(" "),a("ol",[a("li",[s._v("开发人员保证一次提交走查的代码对应一个完整模块或功能，走查通过后再提交下一个。")]),s._v(" "),a("li",[s._v("提交走查的代码需要和设计文档保持一致。")]),s._v(" "),a("li",[s._v("走查人员拒绝走查大批量、无规律的代码变动。")])]),s._v(" "),a("h2",{attrs:{id:"测试用例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#测试用例"}},[s._v("#")]),s._v(" 测试用例")]),s._v(" "),a("ol",[a("li",[s._v("结合上一步的逐步提交，开发人员在提交某一个代码走查时，需要附上本次代码提交对应的测试用例及其执行结果（可以时单元测试、也可以是其它形式的测试用例），执行结果由开发人员自证。")]),s._v(" "),a("li",[s._v("代码走查人员需要审核代码改动对应的测试用例是否合理，是否执行完整，执行方式是否合理。")])]),s._v(" "),a("h2",{attrs:{id:"框架层优化"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#框架层优化"}},[s._v("#")]),s._v(" 框架层优化")]),s._v(" "),a("p",[s._v("本次出现的问题是由于查询对象没有设置默认查询条件（会员ID）引起的，对于这类情况，可以考虑在框架层面加入默认支持")]),s._v(" "),a("ol",[a("li",[s._v("对于每个服务，设定其定制化的Query基类，避免开发人员由于复制、遗漏、覆盖等操作产生的严重问题。")])]),s._v(" "),a("img",{attrs:{src:"https://www.plantuml.com/plantuml/svg/SoWkIImgAStDuKhEIImkLWWiJIsgXBBTCejoaVdEfSKb-RcfHH0nBZ2bOAEhYwGG8OQgs24rBmLe2G00",alt:"uml diagram"}}),s._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Query")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" classFirmQuery extend "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Query")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//设置默认值，且不允许更改")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" firmId "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("UserContext")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("getOrgId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" classCustomerQuery extend "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Query")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//设置默认值，且不允许更改")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" customerId "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("UserContext")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("getCustomerId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br")])]),a("ol",{attrs:{start:"2"}},[a("li",[s._v("减少代码复制，对于多个端的重复代码，考虑从架构层面进行优化，从而减少开发人员的复制问题。")])])])}),[],!1,null,null,null);t.default=e.exports}}]);