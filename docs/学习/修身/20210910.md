---
title: 20210910日记
autoGroup-2: 9月
tags:
  - 日记
---
## 工作
### 轮询接口
由于websocket对于领导来说有点不好控制，编码复杂度高，决策不使用websocket来实现流程的状态变化，我就想搞一个长轮询来实现，避免客户端不停的查接口。
经过研究，发现spring的[DeferredResult](https://www.baeldung.com/spring-deferred-result)来做，提供了基本的异步操作，也挺好用的。

后来和dc沟通，这家伙听完之后说spring的websocket实现有一个为了兼容旧版本浏览器backoff方式，本质上也是长轮询，要不直接用，我查了之后发现是[SockJs](https://spring.io/guides/gs/messaging-stomp-websocket/)，这个东西还没有仔细研究，如果能满足需求又好用的话，用这个当然好呀。

另外，今天看了一些spring的英文文档，觉得完全可以翻译一下写到我的博客里，以来记录一下学到的技术，以后方便查看。二来也能锻炼下英语。

### 出差
出差在即，下午公司相关部门给出差培训的人上了一堂党课，着重强调了一下出差的纪律，遵纪守法，遵守公司规定。

期间上课的老师说了很多，不愧是党的思想培育出来的人，确实有深度有水平。《毛选》是没少看了，《论语》《孟子》都给我推荐要多读一读。确实，这些都是好书，如果精力允许，读一读对于“知天命”是有好处的。





