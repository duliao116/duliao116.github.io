---
title: 静态方法构造对象
---

# 静态方法构造对象

## 语义化
静态方法比构造方法的命名能更加语义化。
由于语法的要求，构造方法名必须和类名保持一致，这就限制了命名方面的发挥，而静态方法不受这个限制，想怎么来怎么来。
比如：
```java
Integer.parseInt("11");
Integer.valueOf("11");
```

## 不影响框架
在使用spring、mybatis等框架时，会要求类必须有一个无参构造函数。
java默认是有一个无参构造函数的，但是如果我们有传入多个参数构造对象的需求，在代码中写了一个有参数的构造函数，那我们就必须手写一个无参构造函数，这是语法的限制。
使用静态方法来完成多个参数构造对象就方便的多了，增加这么一个方法既能完成需求也不会影响框架。

```java
public User{
    private String username;

    /**
     * 创建一个新的对象
     */
    public User(){
        
    }

    /**
     * 创建一个新的对象
     * @param username 用户名
     */
    public User(String username){
        this.username = username;
    }

    //getter setter
}
```
::: tip 注意
此时既可以使用new User()，也可以使用new User("Eric"))，但是如果业务只使用带参数的构造函数，为了兼容框架，必须增加一个无参构造函数
:::

```java
public User{
    private String username;

    /**
     * 创建一个新的对象
     * @param username 用户名
     * @return 用户对象
     */
    public static User newInstance(String username){
        User user = new User();
        user.username = username;
        return user;
    }

    //getter setter
}
```
::: tip 注意
此时既可以使用new User()，也可以使用User.newInstance("Eric");
:::

再深入一些，如果使用了一些校验框架，给字段上面加上了@NotNull之类的注释，单单写一个无参构造方法也有问题。
```java
public User{
    @NotNull
    private String username;

    /**
     * 创建一个新的对象
     */
    public User(){
        //再一些规范的静态代码扫描中，会提示：usernanme是NotNull的，必须赋予初始值。
    }

    /**
     * 创建一个新的对象
     * @param username 用户名
     */
    public User(String username){
        this.username = username;
    }

    //getter setter
}
```
::: tip 注意
此时手工创建的这个无参构造函数就很尴尬，框架非要这么个东西，可我们也真是没办法给赋初始值，毕竟这个值是要框架给的，而且目的就是要校验给的值不能是null的。
:::

## 实现可控
例如单例，不用每次都new一个新的对象，返回缓冲的对象即可。
```java
//此时就不用newInstance()了，以示区别
public static User getInstance(){}
```


再一个，不用返回对象，也可以是对象的子类，子类不提供直接构造对象的方法，有父类中的静态方法构造，外部看来都是一样的接口。
```java
/*
 * 鞋子
 */
public Shoes{
    public static Shoes newSportInstance(){
        return new SportShoes();
    }
}

/*
 * 运动鞋
 */
public SportShoes{

}
```